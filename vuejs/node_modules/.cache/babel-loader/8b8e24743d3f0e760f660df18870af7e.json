{"remainingRequest":"/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/node_modules/babel-loader/lib/index.js!/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/src/components/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/src/components/Login.vue","mtime":1643551548610},{"path":"/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/babel.config.js","mtime":1642281992204},{"path":"/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgRm9ybSwgRmllbGQsIEVycm9yTWVzc2FnZSB9IGZyb20gInZlZS12YWxpZGF0ZSI7CmltcG9ydCAqIGFzIHl1cCBmcm9tICJ5dXAiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBjb21wb25lbnRzOiB7CiAgICBGb3JtOiBGb3JtLAogICAgRmllbGQ6IEZpZWxkLAogICAgRXJyb3JNZXNzYWdlOiBFcnJvck1lc3NhZ2UKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgc2NoZW1hID0geXVwLm9iamVjdCgpLnNoYXBlKHsKICAgICAgZW1haWw6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiRW1haWwgaXMgcmVxdWlyZWQhIikuZW1haWwoIkVtYWlsIGlzIGludmFsaWQhIikubWF4KDUwLCAiTXVzdCBiZSBtYXhpbXVtIDUwIGNoYXJhY3RlcnMhIiksCiAgICAgIHBhc3N3b3JkOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoIlBhc3N3b3JkIGlzIHJlcXVpcmVkISIpCiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBtZXNzYWdlOiAiIiwKICAgICAgc2NoZW1hOiBzY2hlbWEKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgY29uc29sZS5sb2codGhpcyk7CiAgfSwKICBjb21wdXRlZDogewogICAgbG9nZ2VkSW46IGZ1bmN0aW9uIGxvZ2dlZEluKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC5zdGF0dXMubG9nZ2VkSW47CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMubG9nZ2VkSW4pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9wcm9maWxlIik7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVMb2dpbjogZnVuY3Rpb24gaGFuZGxlTG9naW4odXNlcikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImF1dGgvbG9naW4iLCB1c2VyKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzLm1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/src/components/Login.vue"],"names":[],"mappings":"AA6CA,SAAQ,IAAR,EAAc,KAAd,EAAqB,YAArB,QAAwC,cAAxC;AACA,OAAO,KAAK,GAAZ,MAAqB,KAArB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,IAAI,EAAJ,IADU;AAEV,IAAA,KAAK,EAAL,KAFU;AAGV,IAAA,YAAY,EAAZ;AAHU,GAFC;AAOb,EAAA,IAPa,kBAON;AACL,QAAM,MAAK,GAAI,GAAG,CAAC,MAAJ,GAAa,KAAb,CAAmB;AAChC,MAAA,KAAK,EAAE,GAAG,CAAC,MAAJ,GAAa,QAAb,CAAsB,oBAAtB,EAA4C,KAA5C,CAAkD,mBAAlD,EAAuE,GAAvE,CAA2E,EAA3E,EAA+E,gCAA/E,CADyB;AAEhC,MAAA,QAAQ,EAAE,GAAG,CAAC,MAAJ,GAAa,QAAb,CAAsB,uBAAtB;AAFsB,KAAnB,CAAf;AAIA,WAAO;AACL,MAAA,OAAO,EAAE,KADJ;AAEL,MAAA,OAAO,EAAE,EAFJ;AAGL,MAAA,MAAM,EAAN;AAHK,KAAP;AAKD,GAjBY;AAkBb,EAAA,OAAO,EAAE,mBAAY;AACnB,IAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACD,GApBY;AAqBb,EAAA,QAAQ,EAAE;AACR,IAAA,QADQ,sBACG;AACT,aAAO,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,MAAvB,CAA8B,QAArC;AACD;AAHO,GArBG;AA0Bb,EAAA,OA1Ba,qBA0BH;AACR,QAAI,KAAK,QAAT,EAAmB;AACjB,WAAK,OAAL,CAAa,IAAb,CAAkB,UAAlB;AACF;AACD,GA9BY;AA+Bb,EAAA,OAAO,EAAE;AACP,IAAA,WADO,uBACK,IADL,EACW;AAAA;;AAChB,WAAK,OAAL,GAAe,IAAf;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,YAArB,EAAmC,IAAnC,EACC,IADD,CACM,UAAC,IAAD,EAAU;AACd,QAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACI,QAAA,KAAI,CAAC,OAAL,GAAe,KAAf;;AACA,QAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACL,OALD,EAMC,KAND,CAMO,UAAC,KAAD,EAAW;AACZ,QAAA,KAAI,CAAC,OAAL,GAAe,KAAf;AACA,QAAA,KAAI,CAAC,OAAL,GAAe,KAAK,CAAC,OAArB;AACF,OATJ;AAWD;AAdM;AA/BI,CAAf","sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"col-md-4\"></div>\n    <div class=\"col-md-4\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h2 class=\"tittle\">LOGIN</h2>\n        </div>\n        <div class=\"card-body\">\n          <Form @submit=\"handleLogin\" :validation-schema=\"schema\">\n            <div class=\"form-group\">\n              <label for=\"email\">Email</label>\n              <Field name=\"email\" type=\"text\" class=\"form-control\"/>\n              <ErrorMessage name=\"email\" class=\"error-feedback\"/>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"password\">Password</label>\n              <Field name=\"password\" type=\"password\" class=\"form-control\"/>\n              <ErrorMessage name=\"password\" class=\"error-feedback\"/>\n            </div>\n\n            <div class=\"form-group\">\n              <button class=\"btn btn-primary btn-block\" :disabled=\"loading\">\n                  <span\n                      v-show=\"loading\"\n                      class=\"spinner-border spinner-border-sm\"\n                  ></span>\n                <span>Login</span>\n              </button>\n            </div>\n\n            <div class=\"form-group\">\n              <div v-if=\"message\" class=\"alert alert-danger\" role=\"alert\">\n                {{ message }}\n              </div>\n            </div>\n          </Form>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-md-4\"></div>\n  </div>\n</template>\n\n<script>\nimport {Form, Field, ErrorMessage} from \"vee-validate\";\nimport * as yup from \"yup\";\n\nexport default {\n  name: \"Login\",\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  data() {\n    const schema = yup.object().shape({\n      email: yup.string().required(\"Email is required!\").email(\"Email is invalid!\").max(50, \"Must be maximum 50 characters!\"),\n      password: yup.string().required(\"Password is required!\"),\n    });\n    return {\n      loading: false,\n      message: \"\",\n      schema,\n    };\n  },\n  mounted: function () {\n    console.log(this)\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n  },\n  created() {\n    if (this.loggedIn) {\n      this.$router.push(\"/profile\");\n    }\n  },\n  methods: {\n    handleLogin(user) {\n      this.loading = true;\n      this.$store.dispatch(\"auth/login\", user)\n      .then((data) => {\n        console.log(data);\n            this.loading = false;\n            this.$router.push(\"/\");\n      })\n      .catch((error) => {\n            this.loading = false;\n            this.message = error.message;\n          }\n      );\n    },\n  },\n};\n</script>\n\n<style scoped>\n.btn-primary {\n  background-color: #1AC073 !important;\n  border-color: #1AC073 !important;\n  font-weight: bold;\n  font-size: 20px\n}\n\n.row {\n  padding-top: 10vh\n}\n\n.card-header {\n  background-color: #1AC073\n}\n\n.tittle {\n  font-weight: bold;\n  text-align: center;\n  color: #fff;\n}\n</style>\n"],"sourceRoot":""}]}