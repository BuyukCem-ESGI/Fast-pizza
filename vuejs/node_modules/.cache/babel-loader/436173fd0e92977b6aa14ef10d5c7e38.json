{"remainingRequest":"/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/node_modules/babel-loader/lib/index.js!/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/node_modules/eslint-loader/index.js??ref--14-0!/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/src/router.js","dependencies":[{"path":"/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/src/router.js","mtime":1643557248774},{"path":"/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/babel.config.js","mtime":1642281992204},{"path":"/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCB7IGNyZWF0ZVdlYkhpc3RvcnksIGNyZWF0ZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgSG9tZSBmcm9tICIuL2NvbXBvbmVudHMvSG9tZS52dWUiOwppbXBvcnQgTG9naW4gZnJvbSAiLi9jb21wb25lbnRzL0xvZ2luLnZ1ZSI7CmltcG9ydCBSZWdpc3RlciBmcm9tICIuL2NvbXBvbmVudHMvUmVnaXN0ZXIudnVlIjsgLy8gbGF6eS1sb2FkZWQKCnZhciBQcm9maWxlID0gZnVuY3Rpb24gUHJvZmlsZSgpIHsKICByZXR1cm4gaW1wb3J0KCIuL2NvbXBvbmVudHMvUHJvZmlsZS52dWUiKTsKfTsKCnZhciBBZG1pbkJvYXJkID0gZnVuY3Rpb24gQWRtaW5Cb2FyZCgpIHsKICByZXR1cm4gaW1wb3J0KCIuL2NvbXBvbmVudHMvQWRtaW5Cb2FyZC52dWUiKTsKfTsKCnZhciBQaXp6ZXJpYUJvYXJkID0gZnVuY3Rpb24gUGl6emVyaWFCb2FyZCgpIHsKICByZXR1cm4gaW1wb3J0KCIuL2NvbXBvbmVudHMvUGl6emVyaWFCb2FyZC52dWUiKTsKfTsKCnZhciBVc2VyQm9hcmQgPSBmdW5jdGlvbiBVc2VyQm9hcmQoKSB7CiAgcmV0dXJuIGltcG9ydCgiLi9jb21wb25lbnRzL1VzZXJCb2FyZC52dWUiKTsKfTsKCnZhciBjYXJ0ID0gZnVuY3Rpb24gY2FydCgpIHsKICByZXR1cm4gaW1wb3J0KCIuL2NvbXBvbmVudHMvY2FydC52dWUiKTsKfTsKCnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICIvIiwKICBuYW1lOiAiaG9tZSIsCiAgY29tcG9uZW50OiBIb21lCn0sIHsKICBwYXRoOiAiL2hvbWUiLAogIGNvbXBvbmVudDogSG9tZQp9LCB7CiAgcGF0aDogIi9sb2dpbiIsCiAgY29tcG9uZW50OiBMb2dpbgp9LCB7CiAgcGF0aDogIi9yZWdpc3RlciIsCiAgY29tcG9uZW50OiBSZWdpc3Rlcgp9LCB7CiAgcGF0aDogIi9jYXJ0IiwKICBuYW1lOiAiY2FydCIsCiAgY29tcG9uZW50OiBjYXJ0Cn0sIHsKICBwYXRoOiAiL3Byb2ZpbGUiLAogIG5hbWU6ICJwcm9maWxlIiwKICAvLyBsYXp5LWxvYWRlZAogIGNvbXBvbmVudDogUHJvZmlsZQp9LCB7CiAgcGF0aDogIi9hZG1pbiIsCiAgbmFtZTogImFkbWluIiwKICAvLyBsYXp5LWxvYWRlZAogIGNvbXBvbmVudDogQWRtaW5Cb2FyZAp9LCB7CiAgcGF0aDogIi9tb2QiLAogIG5hbWU6ICJwaXp6ZXJpYSIsCiAgLy8gbGF6eS1sb2FkZWQKICBjb21wb25lbnQ6IFBpenplcmlhQm9hcmQKfSwgewogIHBhdGg6ICIvdXNlciIsCiAgbmFtZTogInVzZXIiLAogIC8vIGxhenktbG9hZGVkCiAgY29tcG9uZW50OiBVc2VyQm9hcmQKfV07CnZhciByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoewogIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkoKSwKICByb3V0ZXM6IHJvdXRlcwp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgdmFyIHB1YmxpY1BhZ2VzID0gWycvJywgJy9sb2dpbicsICcvcmVnaXN0ZXInLCAnL2hvbWUnXTsKICB2YXIgYXV0aFJlcXVpcmVkID0gIXB1YmxpY1BhZ2VzLmluY2x1ZGVzKHRvLnBhdGgpOwogIHZhciBsb2dnZWRJbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyk7IC8vIHRyeWluZyB0byBhY2Nlc3MgYSByZXN0cmljdGVkIHBhZ2UgKyBub3QgbG9nZ2VkIGluCiAgLy8gcmVkaXJlY3QgdG8gbG9naW4gcGFnZQoKICBpZiAoYXV0aFJlcXVpcmVkICYmICFsb2dnZWRJbikgewogICAgbmV4dCgnL2xvZ2luJyk7CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/Users/buyukcem/Documents/Project/ESGI/Fast-pizza/vuejs/src/router.js"],"names":["createWebHistory","createRouter","Home","Login","Register","Profile","AdminBoard","PizzeriaBoard","UserBoard","cart","routes","path","name","component","router","history","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","localStorage","getItem"],"mappings":";;;;AAAA,SAASA,gBAAT,EAA2BC,YAA3B,QAA+C,YAA/C;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,QAAP,MAAqB,2BAArB,C,CACA;;AACA,IAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA,SAAM,OAAO,0BAAP,CAAN;AAAA,CAAhB;;AACA,IAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA,SAAM,OAAO,6BAAP,CAAN;AAAA,CAAnB;;AACA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB;AAAA,SAAM,OAAO,gCAAP,CAAN;AAAA,CAAtB;;AACA,IAAMC,SAAS,GAAG,SAAZA,SAAY;AAAA,SAAM,OAAO,4BAAP,CAAN;AAAA,CAAlB;;AACA,IAAMC,IAAI,GAAG,SAAPA,IAAO;AAAA,SAAM,OAAO,uBAAP,CAAN;AAAA,CAAb;;AAEA,IAAMC,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEX;AAHb,CADa,EAMb;AACES,EAAAA,IAAI,EAAE,OADR;AAEEE,EAAAA,SAAS,EAAEX;AAFb,CANa,EAUb;AACES,EAAAA,IAAI,EAAE,QADR;AAEEE,EAAAA,SAAS,EAAEV;AAFb,CAVa,EAcb;AACEQ,EAAAA,IAAI,EAAE,WADR;AAEEE,EAAAA,SAAS,EAAET;AAFb,CAda,EAkBb;AACEO,EAAAA,IAAI,EAAE,OADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEJ;AAHb,CAlBa,EAuBb;AACEE,EAAAA,IAAI,EAAE,UADR;AAEEC,EAAAA,IAAI,EAAE,SAFR;AAGE;AACAC,EAAAA,SAAS,EAAER;AAJb,CAvBa,EA6Bb;AACEM,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGE;AACAC,EAAAA,SAAS,EAAEP;AAJb,CA7Ba,EAmCb;AACEK,EAAAA,IAAI,EAAE,MADR;AAEEC,EAAAA,IAAI,EAAE,UAFR;AAGE;AACAC,EAAAA,SAAS,EAAEN;AAJb,CAnCa,EAyCb;AACEI,EAAAA,IAAI,EAAE,OADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGE;AACAC,EAAAA,SAAS,EAAEL;AAJb,CAzCa,CAAf;AAiDA,IAAMM,MAAM,GAAGb,YAAY,CAAC;AAC1Bc,EAAAA,OAAO,EAAEf,gBAAgB,EADC;AAE1BU,EAAAA,MAAM,EAANA;AAF0B,CAAD,CAA3B;AAMAI,MAAM,CAACE,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAMC,WAAW,GAAG,CAAC,GAAD,EAAK,QAAL,EAAe,WAAf,EAA4B,OAA5B,CAApB;AACA,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAZ,CAAqBL,EAAE,CAACN,IAAxB,CAAtB;AACA,MAAMY,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAjB,CAHkC,CAKlC;AACA;;AACA,MAAIJ,YAAY,IAAI,CAACE,QAArB,EAA+B;AAC7BJ,IAAAA,IAAI,CAAC,QAAD,CAAJ;AACD,GAFD,MAEO;AACLA,IAAAA,IAAI;AACL;AACF,CAZH;AAcA,eAAeL,MAAf","sourcesContent":["import { createWebHistory, createRouter } from \"vue-router\";\nimport Home from \"./components/Home.vue\";\nimport Login from \"./components/Login.vue\";\nimport Register from \"./components/Register.vue\";\n// lazy-loaded\nconst Profile = () => import(\"./components/Profile.vue\")\nconst AdminBoard = () => import(\"./components/AdminBoard.vue\")\nconst PizzeriaBoard = () => import(\"./components/PizzeriaBoard.vue\")\nconst UserBoard = () => import(\"./components/UserBoard.vue\")\nconst cart = () => import(\"./components/cart.vue\")\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"home\",\n    component: Home,\n  },\n  {\n    path: \"/home\",\n    component: Home,\n  },\n  {\n    path: \"/login\",\n    component: Login,\n  },\n  {\n    path: \"/register\",\n    component: Register,\n  },\n  {\n    path: \"/cart\",\n    name: \"cart\",\n    component: cart,\n  },\n  {\n    path: \"/profile\",\n    name: \"profile\",\n    // lazy-loaded\n    component: Profile,\n  },\n  {\n    path: \"/admin\",\n    name: \"admin\",\n    // lazy-loaded\n    component: AdminBoard,\n  },\n  {\n    path: \"/mod\",\n    name: \"pizzeria\",\n    // lazy-loaded\n    component: PizzeriaBoard,\n  },\n  {\n    path: \"/user\",\n    name: \"user\",\n    // lazy-loaded\n    component: UserBoard,\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n});\n\n\nrouter.beforeEach((to, from, next) => {\n    const publicPages = ['/','/login', '/register', '/home'];\n    const authRequired = !publicPages.includes(to.path);\n    const loggedIn = localStorage.getItem('user');\n\n    // trying to access a restricted page + not logged in\n    // redirect to login page\n    if (authRequired && !loggedIn) {\n      next('/login');\n    } else {\n      next();\n    }\n  });\n\nexport default router;\n"]}]}