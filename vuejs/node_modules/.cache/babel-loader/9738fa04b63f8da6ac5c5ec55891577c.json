{"remainingRequest":"/home/ris/cours/ProjetVue/pizzeriass/node_modules/babel-loader/lib/index.js!/home/ris/cours/ProjetVue/pizzeriass/node_modules/eslint-loader/index.js??ref--14-0!/home/ris/cours/ProjetVue/pizzeriass/src/services/auth.service.js","dependencies":[{"path":"/home/ris/cours/ProjetVue/pizzeriass/src/services/auth.service.js","mtime":1640803206536},{"path":"/home/ris/cours/ProjetVue/pizzeriass/babel.config.js","mtime":1639920791145},{"path":"/home/ris/cours/ProjetVue/pizzeriass/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ris/cours/ProjetVue/pizzeriass/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ris/cours/ProjetVue/pizzeriass/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS9yaXMvY291cnMvUHJvamV0VnVlL3Bpenplcmlhc3Mvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS9yaXMvY291cnMvUHJvamV0VnVlL3Bpenplcmlhc3Mvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwp2YXIgQVBJX1VSTCA9ICdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL2F1dGgvJzsKCnZhciBBdXRoU2VydmljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQXV0aFNlcnZpY2UoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXV0aFNlcnZpY2UpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEF1dGhTZXJ2aWNlLCBbewogICAga2V5OiAibG9naW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ2luKHVzZXIpIHsKICAgICAgY29uc29sZS5sb2coInNpZ25pbiAiLCB1c2VyKTsKICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoQVBJX1VSTCArICdzaWduaW4nLCB7CiAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQ6IHVzZXIucGFzc3dvcmQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5hY2Nlc3NUb2tlbikgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9nb3V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVnaXN0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyKHVzZXIpIHsKICAgICAgY29uc29sZS5sb2coInJlZ2lzdGVyICIsIHVzZXIpOwogICAgICByZXR1cm4gYXhpb3MucG9zdChBUElfVVJMICsgJ3NpZ251cCcsIHsKICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSwKICAgICAgICBlbWFpbDogdXNlci5lbWFpbCwKICAgICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZAogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBBdXRoU2VydmljZTsKfSgpOwoKZXhwb3J0IGRlZmF1bHQgbmV3IEF1dGhTZXJ2aWNlKCk7"},{"version":3,"sources":["/home/ris/cours/ProjetVue/pizzeriass/src/services/auth.service.js"],"names":["axios","API_URL","AuthService","user","console","log","post","username","password","then","response","data","accessToken","localStorage","setItem","JSON","stringify","removeItem","email"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,OAAO,GAAG,iCAAhB;;IAEMC,W;;;;;;;WACJ,eAAMC,IAAN,EAAY;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBF,IAAtB;AACA,aAAOH,KAAK,CACTM,IADI,CACCL,OAAO,GAAG,QADX,EACqB;AACxBM,QAAAA,QAAQ,EAAEJ,IAAI,CAACI,QADS;AAExBC,QAAAA,QAAQ,EAAEL,IAAI,CAACK;AAFS,OADrB,EAKJC,IALI,CAKC,UAAAC,QAAQ,EAAI;AAChB,YAAIA,QAAQ,CAACC,IAAT,CAAcC,WAAlB,EAA+B;AAC7BC,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACC,IAAxB,CAA7B;AACD;;AAED,eAAOD,QAAQ,CAACC,IAAhB;AACD,OAXI,CAAP;AAYD;;;WAED,kBAAS;AACPE,MAAAA,YAAY,CAACI,UAAb,CAAwB,MAAxB;AACD;;;WAED,kBAASd,IAAT,EAAe;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAwBF,IAAxB;AACA,aAAOH,KAAK,CAACM,IAAN,CAAWL,OAAO,GAAG,QAArB,EAA+B;AACpCM,QAAAA,QAAQ,EAAEJ,IAAI,CAACI,QADqB;AAEpCW,QAAAA,KAAK,EAAEf,IAAI,CAACe,KAFwB;AAGpCV,QAAAA,QAAQ,EAAEL,IAAI,CAACK;AAHqB,OAA/B,CAAP;AAKD;;;;;;AAGH,eAAe,IAAIN,WAAJ,EAAf","sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:8080/api/auth/';\n\nclass AuthService {\n  login(user) {\n    console.log(\"signin \",user)\n    return axios\n      .post(API_URL + 'signin', {\n        username: user.username,\n        password: user.password\n      })\n      .then(response => {\n        if (response.data.accessToken) {\n          localStorage.setItem('user', JSON.stringify(response.data));\n        }\n\n        return response.data;\n      });\n  }\n\n  logout() {\n    localStorage.removeItem('user');\n  }\n\n  register(user) {\n    console.log(\"register \",user)\n    return axios.post(API_URL + 'signup', {\n      username: user.username,\n      email: user.email,\n      password: user.password\n    });\n  }\n}\n\nexport default new AuthService();"]}]}